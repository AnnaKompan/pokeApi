var e,t,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=o.parcelRequire2e6b;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},o.parcelRequire2e6b=a);var i=a.register;i("lXjPc",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){let{id:t,sprites:n,name:r,weight:a,height:i,abilities:s,types:l}=e,c=s.map(e=>e.ability.name).join(", "),d=(0,o.isFavorited)(t);return`
    <div class='card' data-pokemon-id='${t}'>
      <div class='card-img-top'>
        <img class='card-img-top-card' src='${n.front_default}' alt='${r}' />
      </div>
      <div class='card-body'>
        <h2 class='card-title'>Name: ${r}</h2>
        <p class='card-text'>Weight: ${a}</p>
        <p class='card-text'>Height: ${i}</p>

        <h2 class='card-text'>Skills</h2>
        <ul class='list-group'>
          <li class='list-group-item'>${c}</li>
        </ul>

        <h2 class='poke-type-label'>Type:</h2>
        <p class='card-text'>
          ${l.map(e=>`<span class='pokemon-type'>${e.type.name}</span>`).join(" ")}
        </p>

        <button 
          class='${d?"add-to-favorites-btn favorited":"add-to-favorites-btn"}' 
          data-pokemon-id='${t}' 
          data-pokemon='${JSON.stringify(e).replace(/'/g,"&apos;")}'
        >
          ${d?"★ Favorited":"☆ Add to Favorites"}
        </button>
      </div>
    </div>
  `},e.exports.handleFavoriteClick=function(e){let t=e.target,n=parseInt(t.dataset.pokemonId),r=JSON.parse(t.dataset.pokemon);(0,o.isFavorited)(n)?((0,o.removeFromFavorites)(n),t.textContent="☆ Add to Favorites",t.classList.remove("favorited")):((0,o.addToFavorites)(r),t.textContent="★ Favorited",t.classList.add("favorited")),(0,o.updateFavoriteCount)()};var o=a("aUbok");document.querySelector(".card-container")}),i("aUbok",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.addToFavorites=l,e.exports.getFavorites=r,e.exports.hideFavoritesSection=f,e.exports.initFavorites=function(){d();let e=document.querySelector(".favorites-link, .favorites-btn");e&&e.addEventListener("click",e=>{e.preventDefault(),m()});let t=document.querySelector(".back-to-search-btn");t&&t.addEventListener("click",e=>{e.preventDefault(),f()})},e.exports.isFavorited=s,e.exports.removeFromFavorites=c,e.exports.showFavoritesSection=m,e.exports.updateFavoriteCount=d,e.exports.updateFavoritesUI=u;var o=a("37ouH");let n="pokemonFavorites";function r(){let e=localStorage.getItem(n);return e?JSON.parse(e):[]}function i(e){localStorage.setItem(n,JSON.stringify(e))}function s(e){return r().some(t=>t.id===e)}function l(e){if(s(e.id))return;let t=r(),o={id:e.id,name:e.name,sprites:e.sprites,weight:e.weight,height:e.height,abilities:e.abilities,types:e.types};t.push(o),i(t),d()}function c(e){let t=r();i(t=t.filter(t=>t.id!==e)),d(),u()}function d(){let e=r(),t=document.querySelector(".favorites-count, .badge");t&&(t.textContent=e.length,t.style.display=e.length>0?"inline-block":"none")}function u(){var e;let t,n,a,i,s,l,d=document.querySelector(".favorites-container");if(!d)return;let u=r();e=u,t=document.querySelector(".poke-input").value.trim().toLowerCase(),n=document.querySelector(".poke_sort").value,a=document.querySelector(".poke_filter").value,i=Number(document.getElementById("weight-value").textContent),s=Number(document.getElementById("height-value").textContent),l=[...e],t&&(l=(0,o.filterByName)(l,t)),a&&"all"!==a&&(l=(0,o.filterByType)(l,a)),l=(0,o.filterByWeight)(l,1,i),l=(0,o.filterByHeight)(l,1,s),"asc"===n&&(l=(0,o.sortByNameAZ)(l)),"desc"===n&&(l=(0,o.sortByNameZA)(l)),"id-asc"===n&&(l=(0,o.sortByIdAsc)(l)),"id-desc"===n&&(l=(0,o.sortByIdDesc)(l));let m=`
    <button class="back-to-search-btn">\u{2190} Back to Search</button>
    <h2 class="favorites-title">Your Favorite Pokemon</h2>
  `;if(0===(u=l).length){d.innerHTML=`
      ${m}
      <div class="empty-state">
        <p>No favorites yet. Add some Pokemon to your favorites!</p>
      </div>
    `,p();return}let f=u.map(e=>`
      <div class="card favorite-card" data-pokemon-id="${e.id}">
        <div class="card-img-top">
          <img class="card-img-top-card" src="${e.sprites?.front_default||""}" alt="${e.name}" />
        </div>
        <div class="card-body">
          <h2 class="card-title">Name: ${e.name}</h2>
          <p class="card-text">Weight: ${e.weight||"N/A"}</p>
          <p class="card-text">Height: ${e.height||"N/A"}</p>
          <p class="card-text">Height: ${e.height||"N/A"}</p>
          <h2 class="poke-type-label">Type:</h2>
          <p class="card-text">${(e.types||[]).map(e=>`<span class='pokemon-type'>${e.type.name}</span>`).join(" ")}</p>
          <button class="remove-from-favorites-btn" data-pokemon-id="${e.id}">
            Remove from Favorites
          </button>
        </div>
      </div>
    `).join("");d.innerHTML=`
    ${m}
    <div class="favorites-container">${f}</div>
  `,d.querySelectorAll(".remove-from-favorites-btn").forEach(e=>{e.addEventListener("click",e=>{c(parseInt(e.target.dataset.pokemonId))})}),p()}function p(){let e=document.querySelector(".back-to-search-btn");e&&e.addEventListener("click",e=>{e.preventDefault(),f()})}function m(){let e=document.querySelector(".favorites-section"),t=document.querySelector(".card-container"),o=document.querySelector(".poke-form_box"),n=document.querySelector(".openai-section"),r=document.querySelector(".team-section");e&&(e.style.display="block",e.classList.add("favorites-container")),t&&(t.style.display="none"),o&&(o.style.display="none"),n&&(n.style.display="none"),r&&(r.style.display="none"),u()}function f(){let e=document.querySelector(".favorites-section"),t=document.querySelector(".card-container"),o=document.querySelector(".poke-form_box");e&&(e.style.display="none"),t&&(t.style.display="flex"),o&&(o.style.display="block")}window.addToFavorites=l,window.removeFromFavorites=c,window.getFavorites=r,window.isFavorited=s,window.updateFavoritesUI=u,window.updateFavoriteCount=d}),i("37ouH",function(e,t){e.exports={filterByName:function(e,t){if(!t)return e;let o=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().startsWith(o))},sortByNameAZ:function(e){return[...e].sort((e,t)=>e.name.localeCompare(t.name))},sortByNameZA:function(e){return[...e].sort((e,t)=>t.name.localeCompare(e.name))},sortByIdAsc:function(e){return[...e].sort((e,t)=>e.id-t.id)},sortByIdDesc:function(e){return[...e].sort((e,t)=>t.id-e.id)},filterByType:function(e,t){let o=Array.isArray(t)?t:[t];return e.filter(e=>e.types.some(e=>o.includes(e.type.name)))},filterByWeight:function(e,t,o){return e.filter(e=>e.weight>=t&&e.weight<=o)},filterByHeight:function(e,t,o){return e.filter(e=>e.height>=t&&e.height<=o)}}}),i("7me8F",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;let o="https://pokeapi.co/api/v2";e.exports.default={fetchPokemon:e=>fetch(`${o}/pokemon/${e}`).then(e=>{if(!e.ok)throw Error("Pokemon not found");return e.json()}),fetchAll:(e=20,t=0)=>fetch(`${o}/pokemon?limit=${e}&offset=${t}`).then(e=>{if(!e.ok)throw Error("Failed to fetch Pokémon");return e.json()})}});var s=y(a("lXjPc")),l=(e=a("7me8F"))&&e.__esModule?e:{default:e},c=a("aUbok"),d={};Object.defineProperty(d,"__esModule",{value:!0}),d.hideOpenAISection=m,d.initOpenAI=function(){let e,t,o,n=document.querySelector(".openai-link");n&&n.addEventListener("click",e=>{e.preventDefault(),p()}),e=document.getElementById("aiinput"),t=document.querySelector(".openai-response"),o=document.querySelector(".openai-response-title"),e&&e.addEventListener("keydown",async n=>{if("Enter"===n.key){n.preventDefault();let r=e.value.trim(),a=`Return a list of Pok\xe9mon that are best for the following task. The format should be, one line: pokemon: reason, second line: pokemon: reason, ... and so on. The task is: ${r}. Gather a team of capable Pok\xe9mon for this task. And give extended reasons for each choice. Example: "
Alakazam: Alakazam has high intelligence and psychic abilities, allowing it to quickly analyze and strategize the most efficient way to clean a space. Its psychic powers also allow it to move objects with ease, making it helpful for heavy lifting during cleaning.

Blissey: Blissey's nurturing nature and ability to heal others make it a great addition to a cleaning team. It can provide emotional support to other Pok\xe9mon during the cleaning process and tend to any injuries that may occur.

Lucario: Lucario's fighting abilities make it very agile and proficient at cleaning hard to reach areas. Its steel typing also makes it durable and able to handle tough cleaning tasks."`;if(console.log("Prompt:",a),r){t&&(t.textContent="Thinking..."),o&&(o.textContent=`The best Pokemon for "${r}" is...`);try{let e=await fetch("https://poke-api-server.vercel.app/api/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})});if(!e.ok){let o=await e.text();t&&(t.textContent=`Error: ${o}`);return}let o=await e.json();if(console.log("OpenAI Server Response:",o),t){let e=o.result.split("\n").filter(e=>e.trim().length>0),n=[];e.forEach(e=>{let t=e.indexOf(":");if(t>0){let o=e.substring(0,t).trim(),r=e.substring(t+1).trim();n.push({name:o,reason:r})}});let r=document.createElement("ul");r.className="pokemon-list",n.forEach(e=>{let t=document.createElement("li"),o=document.createElement("div");o.innerHTML=`<strong>${e.name}:</strong> ${e.reason}`,t.appendChild(o),u.default.fetchPokemon(e.name.toLowerCase()).then(o=>{if(o&&o.sprites&&o.sprites.front_default){let n=document.createElement("div");n.classList.add("pokemon-image");let r=document.createElement("img");r.src=o.sprites.front_default,r.alt=e.name,r.classList.add("pokemon-image-tag"),n.appendChild(r),t.appendChild(n)}else t.remove()}).catch(o=>{console.error(`Error fetching data for ${e.name}:`,o),t.remove()}),r.appendChild(t)}),console.log("Pokemon entries:",n),t.innerHTML="",t.appendChild(r)}}catch(e){t&&(t.textContent=`Network error: ${e.message}`)}finally{e.value=""}}}})},d.showOpenAISection=p;var u=(t=a("7me8F"))&&t.__esModule?t:{default:t};function p(){let e=document.querySelector(".openai-section"),t=document.querySelector(".card-container"),o=document.querySelector(".poke-form_box"),n=document.querySelector(".poke-filt_sort"),r=document.querySelector(".more_btn"),a=document.querySelector(".favorites-section"),i=document.querySelector(".team-section");e&&(e.style.display="block"),t&&(t.style.display="none"),o&&(o.style.display="none"),n&&(n.style.display="none"),r&&(r.style.display="none"),a&&(a.style.display="none"),i&&(i.style.display="none"),function(){let e,t=document.querySelector(".openai-section");if(!t||t.querySelector(".back-to-search-btn"))return;let o=`
        <button class="back-to-search-btn">\u{2190} Back to Search</button>
        <h2 class="openai-title">Ask ChatGPT</h2>
    `,n=t.querySelector(".openai-box");n?n.insertAdjacentHTML("beforebegin",o):t.insertAdjacentHTML("afterbegin",o),(e=document.querySelector(".openai-section .back-to-search-btn"))&&e.addEventListener("click",e=>{e.preventDefault(),m()})}()}function m(){let e=document.querySelector(".openai-section"),t=document.querySelector(".card-container"),o=document.querySelector(".poke-form_box"),n=document.querySelector(".poke-filt_sort"),r=document.querySelector(".more_btn");e&&(e.style.display="none"),t&&(t.style.display="flex"),o&&(o.style.display="block"),n&&(n.style.display="flex"),r&&(r.style.display="block")}var f=a("37ouH");function y(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(y=function(e,t){if(!t&&e&&e.__esModule)return e;var r,a,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((a=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(a.get||a.set)?r(i,t,a):i[t]=e[t]);return i})(e,t)}let h={cardContainer:document.querySelector(".card-container"),searchForm:document.querySelector(".poke_form"),sortSelect:document.querySelector(".poke_sort"),typeFilter:document.querySelector(".poke_filter"),searchInput:document.querySelector(".poke-input"),moreBtn:document.querySelector(".more_btn"),weightRange:document.querySelector(".poke_weights_range"),heightRange:document.querySelector(".poke_heights_range"),weightVal:document.getElementById("weight-value"),heightVal:document.getElementById("height-value")},v=[],g=0,k=0;function b(){let e=document.querySelector(".favorites-section");e&&"block"===e.style.display&&updateFavoritesUI()}function S(){return l.default.fetchAll(30,g).then(e=>(k=e.count,Promise.all(e.results.map(e=>fetch(e.url).then(e=>e.json()))))).then(e=>(g+=30,v=[...v,...e],e)).catch(e=>console.error(e))}function w(e,t=!1){t||(h.cardContainer.innerHTML="");let o=e.map(e=>(0,s.default)(e)).join("");h.cardContainer.insertAdjacentHTML("beforeend",o),h.cardContainer.querySelectorAll(".add-to-favorites-btn").forEach(e=>e.addEventListener("click",s.handleFavoriteClick))}function x(e){e.preventDefault(),q(),(0,c.hideFavoritesSection)()}function q(){let e=h.searchInput.value.trim().toLowerCase(),t=v;e&&(t=(0,f.filterByName)(t,e));let o=h.typeFilter.value;o&&"all"!==o&&(t=(0,f.filterByType)(t,o));let n=Number(h.weightRange.value);t=(0,f.filterByWeight)(t,1,n);let r=Number(h.heightRange.value);t=(0,f.filterByHeight)(t,1,r);let a=h.sortSelect.value;"asc"===a&&(t=(0,f.sortByNameAZ)(t)),"desc"===a&&(t=(0,f.sortByNameZA)(t)),"id-asc"===a&&(t=(0,f.sortByIdAsc)(t)),"id-desc"===a&&(t=(0,f.sortByIdDesc)(t)),w(t)}function F(){g>=k?alert("No more Pokémons to load!"):S().then(e=>{w(e,!0)})}document.addEventListener("DOMContentLoaded",()=>{(0,c.initFavorites)(),(0,d.initOpenAI)(),h.moreBtn.addEventListener("click",F),h.searchInput.addEventListener("input",()=>{q(),b()}),h.searchForm.addEventListener("submit",x),h.sortSelect.addEventListener("change",()=>{q(),b()}),h.typeFilter.addEventListener("change",()=>{q(),b()}),h.weightRange.addEventListener("input",()=>{h.weightVal.textContent=h.weightRange.value,q(),b()}),h.heightRange.addEventListener("input",()=>{h.heightVal.textContent=h.heightRange.value,q(),b()}),S().then(()=>{q()})}),document.addEventListener("DOMContentLoaded",()=>{(0,c.initFavorites)()}),h.searchForm.addEventListener("submit",x);
//# sourceMappingURL=pokeApi.3e068950.js.map
