{"mappings":"A,IKcmCA,ECdAA,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,a,C,M,C,C,G,E,O,C,O,CLcpB,SAAwBuB,CAAO,EAC5C,GAAM,CAAA,GAAEd,CAAE,CAAA,QAAEe,CAAO,CAAA,KAAEC,CAAI,CAAA,OAAEC,CAAM,CAAA,OAAEC,CAAM,CAAA,UAAEC,CAAS,CAAA,MAAEC,CAAAA,CAAO,CAAGN,EAC1DO,EAAcF,EAAUG,GAAG,CAACC,AAAAA,GAAMA,EAAGC,OAAO,CAACR,IAAI,EAAES,IAAI,CAAC,MAExDC,EAAY,AAAA,CAAA,EAAAE,EAAAA,WAAAA,AAAAA,EAAY5B,GAM9B,MAAO;AACT,uCAAA,EAAyCA,EAAzC;A;AAEA,4CAAA,EACUe,EAAQc,aAAa,CAAA,OAAA,EACbb,EAFlB;A;A;AAKA,qCAAA,EAAuCA,EAAvC;AACA,qCAAA,EAAuCC,EAAvC;AACA,qCAAA,EAAuCC,EAAvC;A;A;A;AAIA,sCAAA,EAAwCG,EAAxC;A;A;A;A;AAKA,UAAA,EAAYD,EACCE,GAAG,CAACQ,AAAAA,GAAK,CAAA,2BAAA,EAA8BA,EAAEC,IAAI,CAACf,IAAI,CAAA,OAAA,CAAS,EAC3DS,IAAI,CAAC;A;A;A;AAIlB,iBAAA,EA7BsBC,EAChB,iCACA,uBA2BN;AACA,2BAAA,EAA6B1B,EAA7B;AACA,wBAAA,EAA0BgC,KAAKC,SAAS,CAACnB,GAASoB,OAAO,CAAC,KAAM,UAAhE;A;AAEA,UAAA,EAlCqBR,EAAY,cAAgB;A;A;A;AAsCjD,EAAA,CAAG,AACH,E,E,O,C,mB,CACO,SAA6BnC,CAAC,EACnC,IAAM6C,EAAM7C,EAAE8C,MAAM,CACdC,EAAY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","sources":["<anon>","src/partials/markup.js","src/js/favorites/favorites.js","src/js/filter_sort/filter_sort.js","src/js/api-service.js","src/js/fetchApi.js","src/js/openai.js"],"sourcesContent":["\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire2e6b\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire2e6b\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"lXjPc\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.default = $ffbe7c7125e506e8$var$pokemonCardTpl;\nmodule.exports.handleFavoriteClick = $ffbe7c7125e506e8$var$handleFavoriteClick;\n\nvar $cAXwu = parcelRequire(\"cAXwu\");\nconst $ffbe7c7125e506e8$var$refs = {\n    cardContainer: document.querySelector('.card-container')\n};\n// Store the current Pokemon data globally for favorites functionality\nlet $ffbe7c7125e506e8$var$currentPokemon = null;\nfunction $ffbe7c7125e506e8$var$pokemonCardTpl(pokemon) {\n    const { id: id, sprites: sprites, name: name, weight: weight, height: height, abilities: abilities, types: types } = pokemon;\n    const abilityName = abilities.map((ab)=>ab.ability.name).join(', ');\n    const favorited = (0, $cAXwu.isFavorited)(id);\n    const buttonText = favorited ? \"\\u2605 Favorited\" : \"\\u2606 Add to Favorites\";\n    const buttonClass = favorited ? 'add-to-favorites-btn favorited' : 'add-to-favorites-btn';\n    return `\n    <div class='card' data-pokemon-id='${id}'>\n      <div class='card-img-top'>\n        <img class='card-img-top-card' src='${sprites.front_default}' alt='${name}' />\n      </div>\n      <div class='card-body'>\n        <h2 class='card-title'>Name: ${name}</h2>\n        <p class='card-text'>Weight: ${weight}</p>\n        <p class='card-text'>Height: ${height}</p>\n\n        <h2 class='card-text'>Skills</h2>\n        <ul class='list-group'>\n          <li class='list-group-item'>${abilityName}</li>\n        </ul>\n\n        <h2 class='poke-type-label'>Type:</h2>\n        <p class='card-text'>\n          ${types.map((t)=>`<span class='pokemon-type'>${t.type.name}</span>`).join(' ')}\n        </p>\n\n        <button \n          class='${buttonClass}' \n          data-pokemon-id='${id}' \n          data-pokemon='${JSON.stringify(pokemon).replace(/'/g, '&apos;')}'\n        >\n          ${buttonText}\n        </button>\n      </div>\n    </div>\n  `;\n}\nfunction $ffbe7c7125e506e8$var$handleFavoriteClick(e) {\n    const btn = e.target;\n    const pokemonId = parseInt(btn.dataset.pokemonId);\n    const pokemon = JSON.parse(btn.dataset.pokemon);\n    if ((0, $cAXwu.isFavorited)(pokemonId)) {\n        (0, $cAXwu.removeFromFavorites)(pokemonId);\n        btn.textContent = \"\\u2606 Add to Favorites\";\n        btn.classList.remove('favorited');\n    } else {\n        (0, $cAXwu.addToFavorites)(pokemon);\n        btn.textContent = \"\\u2605 Favorited\";\n        btn.classList.add('favorited');\n    }\n    (0, $cAXwu.updateFavoriteCount)();\n}\n\n});\nparcelRegister(\"cAXwu\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.addToFavorites = $92b704da29f36d38$var$addToFavorites;\nmodule.exports.getFavorites = $92b704da29f36d38$var$getFavorites;\nmodule.exports.hideFavoritesSection = $92b704da29f36d38$var$hideFavoritesSection;\nmodule.exports.initFavorites = $92b704da29f36d38$var$initFavorites;\nmodule.exports.isFavorited = $92b704da29f36d38$var$isFavorited;\nmodule.exports.removeFromFavorites = $92b704da29f36d38$var$removeFromFavorites;\nmodule.exports.showFavoritesSection = $92b704da29f36d38$var$showFavoritesSection;\nmodule.exports.updateFavoriteCount = $92b704da29f36d38$var$updateFavoriteCount;\nmodule.exports.updateFavoritesUI = $92b704da29f36d38$var$updateFavoritesUI;\n\nvar $37ouH = parcelRequire(\"37ouH\");\n// Favorites Module - GREEN Phase Implementation\n// Key: 'pokemonFavorites' in localStorage\nfunction $92b704da29f36d38$var$favoritesFilterAndSort(favorites) {\n    const query = document.querySelector('.poke-input').value.trim().toLowerCase();\n    const sortMode = document.querySelector('.poke_sort').value;\n    const type = document.querySelector('.poke_filter').value;\n    const maxWeight = Number(document.getElementById('weight-value').textContent);\n    const maxHeight = Number(document.getElementById('height-value').textContent);\n    let result = [\n        ...favorites\n    ];\n    // Filtering logic (same as main)\n    if (query) result = (0, $37ouH.filterByName)(result, query);\n    if (type && type !== 'all') result = (0, $37ouH.filterByType)(result, type);\n    result = (0, $37ouH.filterByWeight)(result, 1, maxWeight);\n    result = (0, $37ouH.filterByHeight)(result, 1, maxHeight);\n    // Sorting logic (same as main)\n    if (sortMode === 'asc') result = (0, $37ouH.sortByNameAZ)(result);\n    if (sortMode === 'desc') result = (0, $37ouH.sortByNameZA)(result);\n    if (sortMode === 'id-asc') result = (0, $37ouH.sortByIdAsc)(result);\n    if (sortMode === 'id-desc') result = (0, $37ouH.sortByIdDesc)(result);\n    return result;\n}\nconst $92b704da29f36d38$var$STORAGE_KEY = 'pokemonFavorites';\n/**\n * Get all favorites from localStorage\n * @returns {Array} Array of favorite Pokemon objects\n */ function $92b704da29f36d38$var$getFavorites() {\n    const data = localStorage.getItem($92b704da29f36d38$var$STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n}\n/**\n * Save favorites to localStorage\n * @param {Array} favorites - Array of favorite Pokemon objects\n */ function $92b704da29f36d38$var$saveFavorites(favorites) {\n    localStorage.setItem($92b704da29f36d38$var$STORAGE_KEY, JSON.stringify(favorites));\n}\n/**\n * Check if a Pokemon is already favorited\n * @param {number} pokemonId - Pokemon ID to check\n * @returns {boolean} True if favorited\n */ function $92b704da29f36d38$var$isFavorited(pokemonId) {\n    const favorites = $92b704da29f36d38$var$getFavorites();\n    return favorites.some((pokemon)=>pokemon.id === pokemonId);\n}\n/**\n * Add a Pokemon to favorites\n * @param {Object} pokemon - Pokemon object with id, name, sprites, etc.\n */ function $92b704da29f36d38$var$addToFavorites(pokemon) {\n    if ($92b704da29f36d38$var$isFavorited(pokemon.id)) return; // Prevent duplicates\n    const favorites = $92b704da29f36d38$var$getFavorites();\n    const pokemonData = {\n        id: pokemon.id,\n        name: pokemon.name,\n        sprites: pokemon.sprites,\n        weight: pokemon.weight,\n        height: pokemon.height,\n        abilities: pokemon.abilities,\n        types: pokemon.types\n    };\n    favorites.push(pokemonData);\n    $92b704da29f36d38$var$saveFavorites(favorites);\n    $92b704da29f36d38$var$updateFavoriteCount();\n}\n/**\n * Remove a Pokemon from favorites\n * @param {number} pokemonId - Pokemon ID to remove\n */ function $92b704da29f36d38$var$removeFromFavorites(pokemonId) {\n    let favorites = $92b704da29f36d38$var$getFavorites();\n    favorites = favorites.filter((pokemon)=>pokemon.id !== pokemonId);\n    $92b704da29f36d38$var$saveFavorites(favorites);\n    $92b704da29f36d38$var$updateFavoriteCount();\n    $92b704da29f36d38$var$updateFavoritesUI();\n}\n/**\n * Update the favorites count badge\n */ function $92b704da29f36d38$var$updateFavoriteCount() {\n    const favorites = $92b704da29f36d38$var$getFavorites();\n    const badge = document.querySelector('.favorites-count, .badge');\n    if (badge) {\n        badge.textContent = favorites.length;\n        badge.style.display = favorites.length > 0 ? 'inline-block' : 'none';\n    }\n}\n/**\n * Render the favorites list in the favorites container\n */ function $92b704da29f36d38$var$updateFavoritesUI() {\n    const container = document.querySelector('.favorites-container');\n    if (!container) return;\n    let favorites = $92b704da29f36d38$var$getFavorites();\n    // ðŸ”¥ APPLY SORTING + FILTERING\n    favorites = $92b704da29f36d38$var$favoritesFilterAndSort(favorites);\n    // Always include back button and title\n    const headerHTML = `\n    <button class=\"back-to-search-btn\">\\u{2190} Back to Search</button>\n    <h2 class=\"favorites-title\">Your Favorite Pokemon</h2>\n  `;\n    if (favorites.length === 0) {\n        container.innerHTML = `\n      ${headerHTML}\n      <div class=\"empty-state\">\n        <p>No favorites yet. Add some Pokemon to your favorites!</p>\n      </div>\n    `;\n        $92b704da29f36d38$var$setupBackButton();\n        return;\n    }\n    const cardsHTML = favorites.map((pokemon)=>`\n      <div class=\"card favorite-card\" data-pokemon-id=\"${pokemon.id}\">\n        <div class=\"card-img-top\">\n          <img class=\"card-img-top-card\" src=\"${pokemon.sprites?.front_default || ''}\" alt=\"${pokemon.name}\" />\n        </div>\n        <div class=\"card-body\">\n          <h2 class=\"card-title\">Name: ${pokemon.name}</h2>\n          <p class=\"card-text\">Weight: ${pokemon.weight || 'N/A'}</p>\n          <p class=\"card-text\">Height: ${pokemon.height || 'N/A'}</p>\n          <p class=\"card-text\">Height: ${pokemon.height || 'N/A'}</p>\n          <h2 class=\"poke-type-label\">Type:</h2>\n          <p class=\"card-text\">${(pokemon.types || []).map((t)=>`<span class='pokemon-type'>${t.type.name}</span>`).join(' ')}</p>\n          <button class=\"remove-from-favorites-btn\" data-pokemon-id=\"${pokemon.id}\">\n            Remove from Favorites\n          </button>\n        </div>\n      </div>\n    `).join('');\n    container.innerHTML = `\n    ${headerHTML}\n    <div class=\"favorites-container\">${cardsHTML}</div>\n  `;\n    // Add event listeners to remove buttons\n    container.querySelectorAll('.remove-from-favorites-btn').forEach((btn)=>{\n        btn.addEventListener('click', (e)=>{\n            const pokemonId = parseInt(e.target.dataset.pokemonId);\n            $92b704da29f36d38$var$removeFromFavorites(pokemonId);\n        });\n    });\n    $92b704da29f36d38$var$setupBackButton();\n}\n/**\n * Setup back button event listener\n */ function $92b704da29f36d38$var$setupBackButton() {\n    const backBtn = document.querySelector('.back-to-search-btn');\n    if (backBtn) backBtn.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $92b704da29f36d38$var$hideFavoritesSection();\n    });\n}\n/**\n * Toggle favorites section visibility\n */ function $92b704da29f36d38$var$showFavoritesSection() {\n    const favoritesSection = document.querySelector('.favorites-section');\n    const mainContent = document.querySelector('.card-container');\n    const formBox = document.querySelector('.poke-form_box');\n    const openaiSection = document.querySelector('.openai-section');\n    const teamSection = document.querySelector('.team-section');\n    if (favoritesSection) {\n        favoritesSection.style.display = 'block';\n        favoritesSection.classList.add('favorites-container');\n    }\n    if (mainContent) mainContent.style.display = 'none';\n    if (formBox) formBox.style.display = 'none';\n    if (openaiSection) openaiSection.style.display = 'none';\n    if (teamSection) teamSection.style.display = 'none';\n    $92b704da29f36d38$var$updateFavoritesUI();\n}\n/**\n * Hide favorites section and show main content\n */ function $92b704da29f36d38$var$hideFavoritesSection() {\n    const favoritesSection = document.querySelector('.favorites-section');\n    const mainContent = document.querySelector('.card-container');\n    const formBox = document.querySelector('.poke-form_box');\n    if (favoritesSection) favoritesSection.style.display = 'none';\n    if (mainContent) mainContent.style.display = 'flex';\n    if (formBox) formBox.style.display = 'block';\n}\n/**\n * Initialize favorites functionality on page load\n */ function $92b704da29f36d38$var$initFavorites() {\n    $92b704da29f36d38$var$updateFavoriteCount();\n    // Set up favorites navigation click handler\n    const favoritesLink = document.querySelector('.favorites-link, .favorites-btn');\n    if (favoritesLink) favoritesLink.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $92b704da29f36d38$var$showFavoritesSection();\n    });\n    // Set up back button handler\n    const backBtn = document.querySelector('.back-to-search-btn');\n    if (backBtn) backBtn.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $92b704da29f36d38$var$hideFavoritesSection();\n    });\n}\n// Make functions available globally for button onclick handlers\nif (typeof window !== 'undefined') {\n    window.addToFavorites = $92b704da29f36d38$var$addToFavorites;\n    window.removeFromFavorites = $92b704da29f36d38$var$removeFromFavorites;\n    window.getFavorites = $92b704da29f36d38$var$getFavorites;\n    window.isFavorited = $92b704da29f36d38$var$isFavorited;\n    window.updateFavoritesUI = $92b704da29f36d38$var$updateFavoritesUI;\n    window.updateFavoriteCount = $92b704da29f36d38$var$updateFavoriteCount;\n}\n// CommonJS exports for Jest testing\nif (module.exports) module.exports = {\n    getFavorites: $92b704da29f36d38$var$getFavorites,\n    isFavorited: $92b704da29f36d38$var$isFavorited,\n    addToFavorites: $92b704da29f36d38$var$addToFavorites,\n    removeFromFavorites: $92b704da29f36d38$var$removeFromFavorites,\n    updateFavoriteCount: $92b704da29f36d38$var$updateFavoriteCount,\n    updateFavoritesUI: $92b704da29f36d38$var$updateFavoritesUI,\n    showFavoritesSection: $92b704da29f36d38$var$showFavoritesSection,\n    hideFavoritesSection: $92b704da29f36d38$var$hideFavoritesSection,\n    initFavorites: $92b704da29f36d38$var$initFavorites\n};\n\n});\nparcelRegister(\"37ouH\", function(module, exports) {\n\"use strict\";\nfunction $2455068dda3ce37b$var$filterByName(pokemonArr, query) {\n    if (!query) return pokemonArr;\n    const lowerQuery = query.toLowerCase();\n    const isNumeric = /^\\d+$/.test(query);\n    return pokemonArr.filter((pokemon)=>{\n        // Match by ID if query is numeric\n        if (isNumeric && pokemon.id === parseInt(query)) return true;\n        // Match by name (starts with query)\n        return pokemon.name.toLowerCase().startsWith(lowerQuery);\n    });\n}\nfunction $2455068dda3ce37b$var$sortByNameAZ(arr) {\n    return [\n        ...arr\n    ].sort((a, b)=>a.name.localeCompare(b.name));\n}\nfunction $2455068dda3ce37b$var$sortByNameZA(arr) {\n    return [\n        ...arr\n    ].sort((a, b)=>b.name.localeCompare(a.name));\n}\nfunction $2455068dda3ce37b$var$sortByIdAsc(arr) {\n    return [\n        ...arr\n    ].sort((a, b)=>a.id - b.id);\n}\nfunction $2455068dda3ce37b$var$sortByIdDesc(arr) {\n    return [\n        ...arr\n    ].sort((a, b)=>b.id - a.id);\n}\nfunction $2455068dda3ce37b$var$filterByType(arr, type) {\n    const wanted = Array.isArray(type) ? type : [\n        type\n    ];\n    return arr.filter((p)=>{\n        // If types is undefined, include the Pokemon (don't filter it out)\n        if (!p.types || !Array.isArray(p.types)) return true;\n        return p.types.some((t)=>wanted.includes(t.type.name));\n    });\n}\nfunction $2455068dda3ce37b$var$filterByWeight(arr, min, max) {\n    return arr.filter((p)=>{\n        // If weight is undefined, include the Pokemon (don't filter it out)\n        if (p.weight === undefined || p.weight === null) return true;\n        return p.weight >= min && p.weight <= max;\n    });\n}\nfunction $2455068dda3ce37b$var$filterByHeight(arr, min, max) {\n    return arr.filter((p)=>{\n        // If height is undefined, include the Pokemon (don't filter it out)\n        if (p.height === undefined || p.height === null) return true;\n        return p.height >= min && p.height <= max;\n    });\n}\nmodule.exports = {\n    filterByName: $2455068dda3ce37b$var$filterByName,\n    sortByNameAZ: $2455068dda3ce37b$var$sortByNameAZ,\n    sortByNameZA: $2455068dda3ce37b$var$sortByNameZA,\n    sortByIdAsc: $2455068dda3ce37b$var$sortByIdAsc,\n    sortByIdDesc: $2455068dda3ce37b$var$sortByIdDesc,\n    filterByType: $2455068dda3ce37b$var$filterByType,\n    filterByWeight: $2455068dda3ce37b$var$filterByWeight,\n    filterByHeight: $2455068dda3ce37b$var$filterByHeight\n};\n\n});\n\n\n\nparcelRegister(\"7me8F\", function(module, exports) {\n\"use strict\";\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports.default = void 0;\nconst $55b58e231f028392$var$BASE_URL = `https://pokeapi.co/api/v2`;\nvar $55b58e231f028392$var$_default = module.exports.default = {\n    fetchPokemon (nameID) {\n        return fetch(`${$55b58e231f028392$var$BASE_URL}/pokemon/${nameID}`).then((res)=>{\n            if (!res.ok) throw new Error('Pokemon not found');\n            return res.json();\n        });\n    },\n    fetchAll (limit = 20, offset = 0) {\n        return fetch(`${$55b58e231f028392$var$BASE_URL}/pokemon?limit=${limit}&offset=${offset}`).then((res)=>{\n            if (!res.ok) throw new Error(\"Failed to fetch Pok\\xe9mon\");\n            return res.json();\n        });\n    }\n};\n\n});\n\n\"use strict\";\n\nvar $7347181ddf74d6b0$var$_markup = $7347181ddf74d6b0$var$_interopRequireWildcard((parcelRequire(\"lXjPc\")));\n\nvar $7347181ddf74d6b0$var$_apiService = $7347181ddf74d6b0$var$_interopRequireDefault((parcelRequire(\"7me8F\")));\n\nvar $cAXwu = parcelRequire(\"cAXwu\");\nvar $b3100e4e7185cc4d$exports = {};\n\"use strict\";\nObject.defineProperty($b3100e4e7185cc4d$exports, \"__esModule\", {\n    value: true\n});\n$b3100e4e7185cc4d$exports.hideOpenAISection = $b3100e4e7185cc4d$var$hideOpenAISection;\n$b3100e4e7185cc4d$exports.initOpenAI = $b3100e4e7185cc4d$var$initOpenAI;\n$b3100e4e7185cc4d$exports.parseAIResult = $b3100e4e7185cc4d$var$parseAIResult;\n$b3100e4e7185cc4d$exports.showOpenAISection = $b3100e4e7185cc4d$var$showOpenAISection;\n\nvar $b3100e4e7185cc4d$var$_apiService = $b3100e4e7185cc4d$var$_interopRequireDefault((parcelRequire(\"7me8F\")));\nfunction $b3100e4e7185cc4d$var$_interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n        default: e\n    };\n}\nfunction $b3100e4e7185cc4d$var$setupBackButton() {\n    const backBtn = document.querySelector('.openai-section .back-to-search-btn');\n    if (backBtn) backBtn.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $b3100e4e7185cc4d$var$hideOpenAISection();\n    });\n}\nfunction $b3100e4e7185cc4d$var$setupOpenAIUI() {\n    const openaiSection = document.querySelector('.openai-section');\n    if (!openaiSection) return;\n    // Check if header already exists to prevent duplicates\n    if (openaiSection.querySelector('.back-to-search-btn')) return;\n    // Add back button and title at the beginning of openai-section (direct children)\n    const headerHTML = `\n        <button class=\"back-to-search-btn\">\\u{2190} Back to Search</button>\n        <h2 class=\"openai-title\">Ask ChatGPT</h2>\n    `;\n    const openaiBox = openaiSection.querySelector('.openai-box');\n    if (openaiBox) openaiBox.insertAdjacentHTML('beforebegin', headerHTML);\n    else openaiSection.insertAdjacentHTML('afterbegin', headerHTML);\n    $b3100e4e7185cc4d$var$setupBackButton();\n}\n/**\n * Show OpenAI section and hide main content\n */ function $b3100e4e7185cc4d$var$showOpenAISection() {\n    const openaiSection = document.querySelector('.openai-section');\n    const mainContent = document.querySelector('.card-container');\n    const formBox = document.querySelector('.poke-form_box');\n    const pokeFiltSort = document.querySelector('.poke-filt_sort');\n    const moreBtn = document.querySelector('.more_btn');\n    const favoritesSection = document.querySelector('.favorites-section');\n    const teamSection = document.querySelector('.team-section');\n    if (openaiSection) openaiSection.style.display = 'block';\n    if (mainContent) mainContent.style.display = 'none';\n    if (formBox) formBox.style.display = 'none';\n    if (pokeFiltSort) pokeFiltSort.style.display = 'none';\n    if (moreBtn) moreBtn.style.display = 'none';\n    if (favoritesSection) favoritesSection.style.display = 'none';\n    if (teamSection) teamSection.style.display = 'none';\n    $b3100e4e7185cc4d$var$setupOpenAIUI();\n}\n/**\n * Hide OpenAI section and show main content\n */ function $b3100e4e7185cc4d$var$hideOpenAISection() {\n    const openaiSection = document.querySelector('.openai-section');\n    const mainContent = document.querySelector('.card-container');\n    const formBox = document.querySelector('.poke-form_box');\n    const pokeFiltSort = document.querySelector('.poke-filt_sort');\n    const moreBtn = document.querySelector('.more_btn');\n    if (openaiSection) openaiSection.style.display = 'none';\n    if (mainContent) mainContent.style.display = 'flex';\n    if (formBox) formBox.style.display = 'block';\n    if (pokeFiltSort) pokeFiltSort.style.display = 'flex';\n    if (moreBtn) moreBtn.style.display = 'block';\n}\nfunction $b3100e4e7185cc4d$var$handleAIQuery() {\n    const aiInput = document.getElementById('aiinput');\n    const aiResponse = document.querySelector('.openai-response');\n    const aiResponseTitle = document.querySelector('.openai-response-title');\n    if (aiInput) aiInput.addEventListener('keydown', async (e)=>{\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            const userInput = aiInput.value.trim();\n            const prompt = `Return a list of Pok\\xe9mon that are best for the following task. The format should be, one line: pokemon: reason, second line: pokemon: reason, ... and so on. The task is: ${userInput}. Gather a team of capable Pok\\xe9mon for this task. And give extended reasons for each choice. Example: \"\nAlakazam: Alakazam has high intelligence and psychic abilities, allowing it to quickly analyze and strategize the most efficient way to clean a space. Its psychic powers also allow it to move objects with ease, making it helpful for heavy lifting during cleaning.\n\nBlissey: Blissey's nurturing nature and ability to heal others make it a great addition to a cleaning team. It can provide emotional support to other Pok\\xe9mon during the cleaning process and tend to any injuries that may occur.\n\nLucario: Lucario's fighting abilities make it very agile and proficient at cleaning hard to reach areas. Its steel typing also makes it durable and able to handle tough cleaning tasks.\"`;\n            console.log('Prompt:', prompt); // Log the prompt value\n            if (!userInput) return;\n            if (aiResponse) aiResponse.textContent = 'Thinking...';\n            if (aiResponseTitle) aiResponseTitle.textContent = `The best Pokemon for \"${userInput}\" is...`;\n            try {\n                const res = await fetch('https://poke-api-server.vercel.app/api/openai', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        prompt: prompt\n                    })\n                });\n                if (!res.ok) {\n                    const text = await res.text();\n                    if (aiResponse) aiResponse.textContent = `Error: ${text}`;\n                    return;\n                }\n                const data = await res.json();\n                console.log('OpenAI Server Response:', data);\n                if (aiResponse) {\n                    // Parse the new format: each line is \"PokemonName: description\"\n                    const pokemonEntries = $b3100e4e7185cc4d$var$parseAIResult(data.result);\n                    const list = document.createElement('ul');\n                    list.className = 'pokemon-list';\n                    pokemonEntries.forEach((entry)=>{\n                        const listItem = document.createElement('li');\n                        const textDiv = document.createElement('div');\n                        textDiv.innerHTML = `<strong>${entry.name}:</strong> ${entry.reason}`;\n                        listItem.appendChild(textDiv);\n                        $b3100e4e7185cc4d$var$_apiService.default.fetchPokemon(entry.name.toLowerCase()).then((pokemonData)=>{\n                            if (pokemonData && pokemonData.sprites && pokemonData.sprites.front_default) {\n                                const imageDiv = document.createElement('div');\n                                imageDiv.classList.add('pokemon-image');\n                                const img = document.createElement('img');\n                                img.src = pokemonData.sprites.front_default;\n                                img.alt = entry.name;\n                                img.classList.add('pokemon-image-tag');\n                                imageDiv.appendChild(img);\n                                listItem.appendChild(imageDiv);\n                            } else listItem.remove();\n                        }).catch((error)=>{\n                            console.error(`Error fetching data for ${entry.name}:`, error);\n                            listItem.remove();\n                        });\n                        list.appendChild(listItem);\n                    });\n                    console.log('Pokemon entries:', pokemonEntries);\n                    aiResponse.innerHTML = '';\n                    aiResponse.appendChild(list);\n                }\n            } catch (err) {\n                if (aiResponse) aiResponse.textContent = `Network error: ${err.message}`;\n            } finally{\n                aiInput.value = '';\n            }\n        }\n    });\n}\nfunction $b3100e4e7185cc4d$var$initOpenAI() {\n    const openaiLink = document.querySelector('.openai-link');\n    if (openaiLink) openaiLink.addEventListener('click', (e)=>{\n        e.preventDefault();\n        $b3100e4e7185cc4d$var$showOpenAISection();\n    });\n    $b3100e4e7185cc4d$var$handleAIQuery();\n}\n/**\n * Parses the OpenAI response string into structured data.\n * @param {string} text - The raw text response from OpenAI.\n * @returns {Array<{name: string, reason: string}>} Array of pokemon objects.\n */ function $b3100e4e7185cc4d$var$parseAIResult(text) {\n    if (!text) return [];\n    const lines = text.split('\\n').filter((line)=>line.trim().length > 0);\n    const pokemonEntries = [];\n    lines.forEach((line)=>{\n        const colonIndex = line.indexOf(':');\n        if (colonIndex > 0) {\n            const pokemonName = line.substring(0, colonIndex).trim();\n            const reason = line.substring(colonIndex + 1).trim();\n            pokemonEntries.push({\n                name: pokemonName,\n                reason: reason\n            });\n        }\n    });\n    return pokemonEntries;\n}\n\n\n\nvar $37ouH = parcelRequire(\"37ouH\");\nfunction $7347181ddf74d6b0$var$_interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n        default: e\n    };\n}\nfunction $7347181ddf74d6b0$var$_interopRequireWildcard(e, t) {\n    if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap();\n    return ($7347181ddf74d6b0$var$_interopRequireWildcard = function(e, t) {\n        if (!t && e && e.__esModule) return e;\n        var o, i, f = {\n            __proto__: null,\n            default: e\n        };\n        if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f;\n        if (o = t ? n : r) {\n            if (o.has(e)) return o.get(e);\n            o.set(e, f);\n        }\n        for(const t in e)\"default\" !== t && ({}).hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]);\n        return f;\n    })(e, t);\n}\n// import pokemonCardTpl from '../partials/markup';\nconst $7347181ddf74d6b0$var$refs = {\n    cardContainer: document.querySelector('.card-container'),\n    searchForm: document.querySelector('.poke_form'),\n    sortSelect: document.querySelector('.poke_sort'),\n    typeFilter: document.querySelector('.poke_filter'),\n    searchInput: document.querySelector('.poke-input'),\n    moreBtn: document.querySelector('.more_btn'),\n    weightRange: document.querySelector('.poke_weights_range'),\n    heightRange: document.querySelector('.poke_heights_range'),\n    weightVal: document.getElementById('weight-value'),\n    heightVal: document.getElementById('height-value')\n};\nlet $7347181ddf74d6b0$var$allPokemons = [];\nlet $7347181ddf74d6b0$var$limit = 30;\nlet $7347181ddf74d6b0$var$offset = 0;\nlet $7347181ddf74d6b0$var$totalCount = 0;\ndocument.addEventListener('DOMContentLoaded', ()=>{\n    (0, $cAXwu.initFavorites)();\n    (0, $b3100e4e7185cc4d$exports.initOpenAI)();\n    $7347181ddf74d6b0$var$refs.moreBtn.addEventListener('click', $7347181ddf74d6b0$var$morePokemons);\n    $7347181ddf74d6b0$var$refs.searchInput.addEventListener('input', ()=>{\n        $7347181ddf74d6b0$var$filterAndSort();\n        $7347181ddf74d6b0$var$refreshIfFavoritesPage();\n    });\n    $7347181ddf74d6b0$var$refs.searchForm.addEventListener('submit', $7347181ddf74d6b0$var$onSearch);\n    $7347181ddf74d6b0$var$refs.sortSelect.addEventListener('change', ()=>{\n        $7347181ddf74d6b0$var$filterAndSort();\n        $7347181ddf74d6b0$var$refreshIfFavoritesPage();\n    });\n    $7347181ddf74d6b0$var$refs.typeFilter.addEventListener('change', ()=>{\n        $7347181ddf74d6b0$var$filterAndSort();\n        $7347181ddf74d6b0$var$refreshIfFavoritesPage();\n    });\n    $7347181ddf74d6b0$var$refs.weightRange.addEventListener('input', ()=>{\n        $7347181ddf74d6b0$var$refs.weightVal.textContent = $7347181ddf74d6b0$var$refs.weightRange.value;\n        $7347181ddf74d6b0$var$filterAndSort();\n        $7347181ddf74d6b0$var$refreshIfFavoritesPage();\n    });\n    $7347181ddf74d6b0$var$refs.heightRange.addEventListener('input', ()=>{\n        $7347181ddf74d6b0$var$refs.heightVal.textContent = $7347181ddf74d6b0$var$refs.heightRange.value;\n        $7347181ddf74d6b0$var$filterAndSort();\n        $7347181ddf74d6b0$var$refreshIfFavoritesPage();\n    });\n    $7347181ddf74d6b0$var$loadAll();\n});\n// Initialize favorites functionality on page load\ndocument.addEventListener('DOMContentLoaded', ()=>{\n    (0, $cAXwu.initFavorites)();\n});\n$7347181ddf74d6b0$var$refs.searchForm.addEventListener('submit', $7347181ddf74d6b0$var$onSearch);\nfunction $7347181ddf74d6b0$var$loadAll() {\n    $7347181ddf74d6b0$var$fetchBatch().then(()=>{\n        $7347181ddf74d6b0$var$filterAndSort();\n    });\n}\nfunction $7347181ddf74d6b0$var$refreshIfFavoritesPage() {\n    const favSection = document.querySelector('.favorites-section');\n    if (favSection && favSection.style.display === 'block') updateFavoritesUI();\n}\nfunction $7347181ddf74d6b0$var$fetchBatch() {\n    return $7347181ddf74d6b0$var$_apiService.default.fetchAll($7347181ddf74d6b0$var$limit, $7347181ddf74d6b0$var$offset).then((data)=>{\n        $7347181ddf74d6b0$var$totalCount = data.count;\n        return Promise.all(data.results.map((p)=>fetch(p.url).then((res)=>res.json())));\n    }).then((pokemonArr)=>{\n        $7347181ddf74d6b0$var$offset += $7347181ddf74d6b0$var$limit;\n        $7347181ddf74d6b0$var$allPokemons = [\n            ...$7347181ddf74d6b0$var$allPokemons,\n            ...pokemonArr\n        ];\n        return pokemonArr;\n    }).catch((err)=>console.error(err));\n}\nfunction $7347181ddf74d6b0$var$renderPokemonList(pokemonArray, append = false) {\n    if (!append) $7347181ddf74d6b0$var$refs.cardContainer.innerHTML = '';\n    const markup = pokemonArray.map((p)=>(0, $7347181ddf74d6b0$var$_markup.default)(p)).join('');\n    $7347181ddf74d6b0$var$refs.cardContainer.insertAdjacentHTML('beforeend', markup);\n    $7347181ddf74d6b0$var$refs.cardContainer.querySelectorAll('.add-to-favorites-btn').forEach((btn)=>btn.addEventListener('click', $7347181ddf74d6b0$var$_markup.handleFavoriteClick));\n}\nfunction $7347181ddf74d6b0$var$onSearch(e) {\n    e.preventDefault();\n    $7347181ddf74d6b0$var$filterAndSort();\n    // Hide favorites section when searching\n    (0, $cAXwu.hideFavoritesSection)();\n}\nfunction $7347181ddf74d6b0$var$filterAndSort() {\n    const query = $7347181ddf74d6b0$var$refs.searchInput.value.trim().toLowerCase();\n    let result = $7347181ddf74d6b0$var$allPokemons;\n    if (query) result = (0, $37ouH.filterByName)(result, query);\n    const selectedType = $7347181ddf74d6b0$var$refs.typeFilter.value;\n    if (selectedType && selectedType !== 'all') result = (0, $37ouH.filterByType)(result, selectedType);\n    const maxWeight = Number($7347181ddf74d6b0$var$refs.weightRange.value);\n    result = (0, $37ouH.filterByWeight)(result, 1, maxWeight);\n    const maxHeight = Number($7347181ddf74d6b0$var$refs.heightRange.value);\n    result = (0, $37ouH.filterByHeight)(result, 1, maxHeight);\n    const mode = $7347181ddf74d6b0$var$refs.sortSelect.value;\n    if (mode === 'asc') result = (0, $37ouH.sortByNameAZ)(result);\n    if (mode === 'desc') result = (0, $37ouH.sortByNameZA)(result);\n    if (mode === 'id-asc') result = (0, $37ouH.sortByIdAsc)(result);\n    if (mode === 'id-desc') result = (0, $37ouH.sortByIdDesc)(result);\n    $7347181ddf74d6b0$var$renderPokemonList(result);\n}\nfunction $7347181ddf74d6b0$var$morePokemons() {\n    if ($7347181ddf74d6b0$var$offset >= $7347181ddf74d6b0$var$totalCount) {\n        alert(\"No more Pok\\xe9mons to load!\");\n        return;\n    }\n    $7347181ddf74d6b0$var$fetchBatch().then((newBatch)=>{\n        $7347181ddf74d6b0$var$renderPokemonList(newBatch, true);\n    });\n}\n\n\n//# sourceMappingURL=pokeApi.bda7c7dc.js.map\n","import {\n  isFavorited,\n  addToFavorites,\n  removeFromFavorites,\n  updateFavoriteCount,\n} from '../js/favorites/favorites.js';\n\nconst refs = {\n  cardContainer: document.querySelector('.card-container'),\n};\n\n// Store the current Pokemon data globally for favorites functionality\nlet currentPokemon = null;\n\nexport default function pokemonCardTpl(pokemon) {\n  const { id, sprites, name, weight, height, abilities, types } = pokemon;\n  const abilityName = abilities.map(ab => ab.ability.name).join(', ');\n\n  const favorited = isFavorited(id);\n  const buttonText = favorited ? 'â˜… Favorited' : 'â˜† Add to Favorites';\n  const buttonClass = favorited\n    ? 'add-to-favorites-btn favorited'\n    : 'add-to-favorites-btn';\n\n  return `\n    <div class='card' data-pokemon-id='${id}'>\n      <div class='card-img-top'>\n        <img class='card-img-top-card' src='${\n          sprites.front_default\n        }' alt='${name}' />\n      </div>\n      <div class='card-body'>\n        <h2 class='card-title'>Name: ${name}</h2>\n        <p class='card-text'>Weight: ${weight}</p>\n        <p class='card-text'>Height: ${height}</p>\n\n        <h2 class='card-text'>Skills</h2>\n        <ul class='list-group'>\n          <li class='list-group-item'>${abilityName}</li>\n        </ul>\n\n        <h2 class='poke-type-label'>Type:</h2>\n        <p class='card-text'>\n          ${types\n            .map(t => `<span class='pokemon-type'>${t.type.name}</span>`)\n            .join(' ')}\n        </p>\n\n        <button \n          class='${buttonClass}' \n          data-pokemon-id='${id}' \n          data-pokemon='${JSON.stringify(pokemon).replace(/'/g, '&apos;')}'\n        >\n          ${buttonText}\n        </button>\n      </div>\n    </div>\n  `;\n}\nexport function handleFavoriteClick(e) {\n  const btn = e.target;\n  const pokemonId = parseInt(btn.dataset.pokemonId);\n  const pokemon = JSON.parse(btn.dataset.pokemon);\n\n  if (isFavorited(pokemonId)) {\n    removeFromFavorites(pokemonId);\n    btn.textContent = 'â˜† Add to Favorites';\n    btn.classList.remove('favorited');\n  } else {\n    addToFavorites(pokemon);\n    btn.textContent = 'â˜… Favorited';\n    btn.classList.add('favorited');\n  }\n\n  updateFavoriteCount();\n}\n","// Favorites Module - GREEN Phase Implementation\n// Key: 'pokemonFavorites' in localStorage\n\nimport {\n  filterByName,\n  sortByNameAZ,\n  sortByNameZA,\n  sortByIdAsc,\n  sortByIdDesc,\n  filterByType,\n  filterByWeight,\n  filterByHeight,\n} from '../filter_sort/filter_sort.js';\n\nfunction favoritesFilterAndSort(favorites) {\n  const query = document\n    .querySelector('.poke-input')\n    .value.trim()\n    .toLowerCase();\n  const sortMode = document.querySelector('.poke_sort').value;\n  const type = document.querySelector('.poke_filter').value;\n  const maxWeight = Number(document.getElementById('weight-value').textContent);\n  const maxHeight = Number(document.getElementById('height-value').textContent);\n\n  let result = [...favorites];\n\n  // Filtering logic (same as main)\n  if (query) result = filterByName(result, query);\n\n  if (type && type !== 'all') result = filterByType(result, type);\n\n  result = filterByWeight(result, 1, maxWeight);\n  result = filterByHeight(result, 1, maxHeight);\n\n  // Sorting logic (same as main)\n  if (sortMode === 'asc') result = sortByNameAZ(result);\n  if (sortMode === 'desc') result = sortByNameZA(result);\n  if (sortMode === 'id-asc') result = sortByIdAsc(result);\n  if (sortMode === 'id-desc') result = sortByIdDesc(result);\n\n  return result;\n}\n\nconst STORAGE_KEY = 'pokemonFavorites';\n\n/**\n * Get all favorites from localStorage\n * @returns {Array} Array of favorite Pokemon objects\n */\nexport function getFavorites() {\n  const data = localStorage.getItem(STORAGE_KEY);\n  return data ? JSON.parse(data) : [];\n}\n\n/**\n * Save favorites to localStorage\n * @param {Array} favorites - Array of favorite Pokemon objects\n */\nfunction saveFavorites(favorites) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favorites));\n}\n\n/**\n * Check if a Pokemon is already favorited\n * @param {number} pokemonId - Pokemon ID to check\n * @returns {boolean} True if favorited\n */\nexport function isFavorited(pokemonId) {\n  const favorites = getFavorites();\n  return favorites.some(pokemon => pokemon.id === pokemonId);\n}\n\n/**\n * Add a Pokemon to favorites\n * @param {Object} pokemon - Pokemon object with id, name, sprites, etc.\n */\nexport function addToFavorites(pokemon) {\n  if (isFavorited(pokemon.id)) {\n    return; // Prevent duplicates\n  }\n\n  const favorites = getFavorites();\n  const pokemonData = {\n    id: pokemon.id,\n    name: pokemon.name,\n    sprites: pokemon.sprites,\n    weight: pokemon.weight,\n    height: pokemon.height,\n    abilities: pokemon.abilities,\n    types: pokemon.types,\n  };\n\n  favorites.push(pokemonData);\n  saveFavorites(favorites);\n  updateFavoriteCount();\n}\n\n/**\n * Remove a Pokemon from favorites\n * @param {number} pokemonId - Pokemon ID to remove\n */\nexport function removeFromFavorites(pokemonId) {\n  let favorites = getFavorites();\n  favorites = favorites.filter(pokemon => pokemon.id !== pokemonId);\n  saveFavorites(favorites);\n  updateFavoriteCount();\n  updateFavoritesUI();\n}\n\n/**\n * Update the favorites count badge\n */\nexport function updateFavoriteCount() {\n  const favorites = getFavorites();\n  const badge = document.querySelector('.favorites-count, .badge');\n  if (badge) {\n    badge.textContent = favorites.length;\n    badge.style.display = favorites.length > 0 ? 'inline-block' : 'none';\n  }\n}\n\n/**\n * Render the favorites list in the favorites container\n */\nexport function updateFavoritesUI() {\n  const container = document.querySelector('.favorites-container');\n  if (!container) return;\n\n  let favorites = getFavorites();\n\n  // ðŸ”¥ APPLY SORTING + FILTERING\n  favorites = favoritesFilterAndSort(favorites);\n  // Always include back button and title\n  const headerHTML = `\n    <button class=\"back-to-search-btn\">â† Back to Search</button>\n    <h2 class=\"favorites-title\">Your Favorite Pokemon</h2>\n  `;\n\n  if (favorites.length === 0) {\n    container.innerHTML = `\n      ${headerHTML}\n      <div class=\"empty-state\">\n        <p>No favorites yet. Add some Pokemon to your favorites!</p>\n      </div>\n    `;\n    setupBackButton();\n    return;\n  }\n\n  const cardsHTML = favorites\n    .map(\n      pokemon => `\n      <div class=\"card favorite-card\" data-pokemon-id=\"${pokemon.id}\">\n        <div class=\"card-img-top\">\n          <img class=\"card-img-top-card\" src=\"${\n            pokemon.sprites?.front_default || ''\n          }\" alt=\"${pokemon.name}\" />\n        </div>\n        <div class=\"card-body\">\n          <h2 class=\"card-title\">Name: ${pokemon.name}</h2>\n          <p class=\"card-text\">Weight: ${pokemon.weight || 'N/A'}</p>\n          <p class=\"card-text\">Height: ${pokemon.height || 'N/A'}</p>\n          <p class=\"card-text\">Height: ${pokemon.height || 'N/A'}</p>\n          <h2 class=\"poke-type-label\">Type:</h2>\n          <p class=\"card-text\">${(pokemon.types || [])\n            .map(t => `<span class='pokemon-type'>${t.type.name}</span>`)\n            .join(' ')}</p>\n          <button class=\"remove-from-favorites-btn\" data-pokemon-id=\"${\n            pokemon.id\n          }\">\n            Remove from Favorites\n          </button>\n        </div>\n      </div>\n    `\n    )\n    .join('');\n\n  container.innerHTML = `\n    ${headerHTML}\n    <div class=\"favorites-container\">${cardsHTML}</div>\n  `;\n  // Add event listeners to remove buttons\n  container.querySelectorAll('.remove-from-favorites-btn').forEach(btn => {\n    btn.addEventListener('click', e => {\n      const pokemonId = parseInt(e.target.dataset.pokemonId);\n      removeFromFavorites(pokemonId);\n    });\n  });\n\n  setupBackButton();\n}\n\n/**\n * Setup back button event listener\n */\nfunction setupBackButton() {\n  const backBtn = document.querySelector('.back-to-search-btn');\n  if (backBtn) {\n    backBtn.addEventListener('click', e => {\n      e.preventDefault();\n      hideFavoritesSection();\n    });\n  }\n}\n\n/**\n * Toggle favorites section visibility\n */\nexport function showFavoritesSection() {\n  const favoritesSection = document.querySelector('.favorites-section');\n  const mainContent = document.querySelector('.card-container');\n  const formBox = document.querySelector('.poke-form_box');\n  const openaiSection = document.querySelector('.openai-section');\n  const teamSection = document.querySelector('.team-section');\n\n  if (favoritesSection) {\n    favoritesSection.style.display = 'block';\n    favoritesSection.classList.add('favorites-container');\n  }\n  if (mainContent) {\n    mainContent.style.display = 'none';\n  }\n  if (formBox) {\n    formBox.style.display = 'none';\n  }\n  if (openaiSection) {\n    openaiSection.style.display = 'none';\n  }\n  if (teamSection) {\n    teamSection.style.display = 'none';\n  }\n\n  updateFavoritesUI();\n}\n\n/**\n * Hide favorites section and show main content\n */\nexport function hideFavoritesSection() {\n  const favoritesSection = document.querySelector('.favorites-section');\n  const mainContent = document.querySelector('.card-container');\n  const formBox = document.querySelector('.poke-form_box');\n\n  if (favoritesSection) {\n    favoritesSection.style.display = 'none';\n  }\n  if (mainContent) {\n    mainContent.style.display = 'flex';\n  }\n  if (formBox) {\n    formBox.style.display = 'block';\n  }\n}\n\n/**\n * Initialize favorites functionality on page load\n */\nexport function initFavorites() {\n  updateFavoriteCount();\n\n  // Set up favorites navigation click handler\n  const favoritesLink = document.querySelector(\n    '.favorites-link, .favorites-btn'\n  );\n  if (favoritesLink) {\n    favoritesLink.addEventListener('click', e => {\n      e.preventDefault();\n      showFavoritesSection();\n    });\n  }\n\n  // Set up back button handler\n  const backBtn = document.querySelector('.back-to-search-btn');\n  if (backBtn) {\n    backBtn.addEventListener('click', e => {\n      e.preventDefault();\n      hideFavoritesSection();\n    });\n  }\n}\n\n// Make functions available globally for button onclick handlers\nif (typeof window !== 'undefined') {\n  window.addToFavorites = addToFavorites;\n  window.removeFromFavorites = removeFromFavorites;\n  window.getFavorites = getFavorites;\n  window.isFavorited = isFavorited;\n  window.updateFavoritesUI = updateFavoritesUI;\n  window.updateFavoriteCount = updateFavoriteCount;\n}\n\n// CommonJS exports for Jest testing\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = {\n    getFavorites,\n    isFavorited,\n    addToFavorites,\n    removeFromFavorites,\n    updateFavoriteCount,\n    updateFavoritesUI,\n    showFavoritesSection,\n    hideFavoritesSection,\n    initFavorites,\n  };\n}\n","function filterByName(pokemonArr, query) {\n  if (!query) return pokemonArr;\n  const lowerQuery = query.toLowerCase();\n  const isNumeric = /^\\d+$/.test(query);\n  \n  return pokemonArr.filter(pokemon => {\n    // Match by ID if query is numeric\n    if (isNumeric && pokemon.id === parseInt(query)) {\n      return true;\n    }\n    // Match by name (starts with query)\n    return pokemon.name.toLowerCase().startsWith(lowerQuery);\n  });\n}\n\nfunction sortByNameAZ(arr) {\n  return [...arr].sort((a, b) => a.name.localeCompare(b.name));\n}\nfunction sortByNameZA(arr) {\n  return [...arr].sort((a, b) => b.name.localeCompare(a.name));\n}\nfunction sortByIdAsc(arr) {\n  return [...arr].sort((a, b) => a.id - b.id);\n}\nfunction sortByIdDesc(arr) {\n  return [...arr].sort((a, b) => b.id - a.id);\n}\n\nfunction filterByType(arr, type) {\n  const wanted = Array.isArray(type) ? type : [type];\n  return arr.filter(p => {\n    // If types is undefined, include the Pokemon (don't filter it out)\n    if (!p.types || !Array.isArray(p.types)) return true;\n    return p.types.some(t => wanted.includes(t.type.name));\n  });\n}\n\nfunction filterByWeight(arr, min, max) {\n  return arr.filter(p => {\n    // If weight is undefined, include the Pokemon (don't filter it out)\n    if (p.weight === undefined || p.weight === null) return true;\n    return p.weight >= min && p.weight <= max;\n  });\n}\n\nfunction filterByHeight(arr, min, max) {\n  return arr.filter(p => {\n    // If height is undefined, include the Pokemon (don't filter it out)\n    if (p.height === undefined || p.height === null) return true;\n    return p.height >= min && p.height <= max;\n  });\n}\n\nmodule.exports = {\n  filterByName,\n  sortByNameAZ,\n  sortByNameZA,\n  sortByIdAsc,\n  sortByIdDesc,\n  filterByType,\n  filterByWeight,\n  filterByHeight,\n};\n","const BASE_URL = `https://pokeapi.co/api/v2`;\n\nexport default {\n  fetchPokemon(nameID) {\n    return fetch(`${BASE_URL}/pokemon/${nameID}`).then(res => {\n      if (!res.ok) throw new Error('Pokemon not found');\n      return res.json();\n    });\n  },\n\n  fetchAll(limit = 20, offset = 0) {\n    return fetch(`${BASE_URL}/pokemon?limit=${limit}&offset=${offset}`).then(\n      res => {\n        if (!res.ok) throw new Error('Failed to fetch PokÃ©mon');\n        return res.json();\n      }\n    );\n  },\n};\n","// import pokemonCardTpl from '../partials/markup';\nimport pokemonCardTpl, { handleFavoriteClick } from '../partials/markup.js';\nimport API from '../js/api-service';\nimport { initFavorites, hideFavoritesSection } from './favorites/favorites.js';\nimport { initOpenAI } from '../js/openai.js';\nimport {\n  filterByName,\n  sortByNameAZ,\n  sortByNameZA,\n  sortByIdAsc,\n  sortByIdDesc,\n  filterByType,\n  filterByWeight,\n  filterByHeight,\n} from './filter_sort/filter_sort';\n\nconst refs = {\n  cardContainer: document.querySelector('.card-container'),\n  searchForm: document.querySelector('.poke_form'),\n  sortSelect: document.querySelector('.poke_sort'),\n  typeFilter: document.querySelector('.poke_filter'),\n  searchInput: document.querySelector('.poke-input'),\n  moreBtn: document.querySelector('.more_btn'),\n  weightRange: document.querySelector('.poke_weights_range'),\n  heightRange: document.querySelector('.poke_heights_range'),\n  weightVal: document.getElementById('weight-value'),\n  heightVal: document.getElementById('height-value'),\n};\n\nlet allPokemons = [];\nlet limit = 30;\nlet offset = 0;\nlet totalCount = 0;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initFavorites();\n  initOpenAI();\n\n  refs.moreBtn.addEventListener('click', morePokemons);\n  refs.searchInput.addEventListener('input', () => {\n    filterAndSort();\n    refreshIfFavoritesPage();\n  });\n  refs.searchForm.addEventListener('submit', onSearch);\n  refs.sortSelect.addEventListener('change', () => {\n    filterAndSort();\n    refreshIfFavoritesPage();\n  });\n  refs.typeFilter.addEventListener('change', () => {\n    filterAndSort();\n    refreshIfFavoritesPage();\n  });\n\n  refs.weightRange.addEventListener('input', () => {\n    refs.weightVal.textContent = refs.weightRange.value;\n    filterAndSort();\n    refreshIfFavoritesPage();\n  });\n\n  refs.heightRange.addEventListener('input', () => {\n    refs.heightVal.textContent = refs.heightRange.value;\n    filterAndSort();\n    refreshIfFavoritesPage();\n  });\n\n  loadAll();\n});\n\n// Initialize favorites functionality on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n  initFavorites();\n});\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction loadAll() {\n  fetchBatch().then(() => {\n    filterAndSort();\n  });\n}\n\nfunction refreshIfFavoritesPage() {\n  const favSection = document.querySelector('.favorites-section');\n  if (favSection && favSection.style.display === 'block') {\n    updateFavoritesUI();\n  }\n}\n\nfunction fetchBatch() {\n  return API.fetchAll(limit, offset)\n    .then(data => {\n      totalCount = data.count;\n      return Promise.all(\n        data.results.map(p => fetch(p.url).then(res => res.json()))\n      );\n    })\n    .then(pokemonArr => {\n      offset += limit;\n      allPokemons = [...allPokemons, ...pokemonArr];\n      return pokemonArr;\n    })\n    .catch(err => console.error(err));\n}\n\nfunction renderPokemonList(pokemonArray, append = false) {\n  if (!append) refs.cardContainer.innerHTML = '';\n\n  const markup = pokemonArray.map(p => pokemonCardTpl(p)).join('');\n  refs.cardContainer.insertAdjacentHTML('beforeend', markup);\n\n  refs.cardContainer\n    .querySelectorAll('.add-to-favorites-btn')\n    .forEach(btn => btn.addEventListener('click', handleFavoriteClick));\n}\n\nfunction onSearch(e) {\n  e.preventDefault();\n  filterAndSort();\n  // Hide favorites section when searching\n  hideFavoritesSection();\n}\n\nfunction filterAndSort() {\n  const query = refs.searchInput.value.trim().toLowerCase();\n  let result = allPokemons;\n\n  if (query) result = filterByName(result, query);\n\n  const selectedType = refs.typeFilter.value;\n  if (selectedType && selectedType !== 'all')\n    result = filterByType(result, selectedType);\n\n  const maxWeight = Number(refs.weightRange.value);\n  result = filterByWeight(result, 1, maxWeight);\n\n  const maxHeight = Number(refs.heightRange.value);\n  result = filterByHeight(result, 1, maxHeight);\n\n  const mode = refs.sortSelect.value;\n  if (mode === 'asc') result = sortByNameAZ(result);\n  if (mode === 'desc') result = sortByNameZA(result);\n  if (mode === 'id-asc') result = sortByIdAsc(result);\n  if (mode === 'id-desc') result = sortByIdDesc(result);\n\n  renderPokemonList(result);\n}\n\nfunction morePokemons() {\n  if (offset >= totalCount) {\n    alert('No more PokÃ©mons to load!');\n    return;\n  }\n\n  fetchBatch().then(newBatch => {\n    renderPokemonList(newBatch, true);\n  });\n}\n","import API from './api-service.js';\n\nfunction setupBackButton() {\n  const backBtn = document.querySelector('.openai-section .back-to-search-btn');\n  if (backBtn) {\n    backBtn.addEventListener('click', e => {\n      e.preventDefault();\n      hideOpenAISection();\n    });\n  }\n}\n\nfunction setupOpenAIUI() {\n  const openaiSection = document.querySelector('.openai-section');\n  if (!openaiSection) return;\n\n  // Check if header already exists to prevent duplicates\n  if (openaiSection.querySelector('.back-to-search-btn')) return;\n\n  // Add back button and title at the beginning of openai-section (direct children)\n  const headerHTML = `\n        <button class=\"back-to-search-btn\">â† Back to Search</button>\n        <h2 class=\"openai-title\">Ask ChatGPT</h2>\n    `;\n  const openaiBox = openaiSection.querySelector('.openai-box');\n  if (openaiBox) {\n    openaiBox.insertAdjacentHTML('beforebegin', headerHTML);\n  } else {\n    openaiSection.insertAdjacentHTML('afterbegin', headerHTML);\n  }\n  setupBackButton();\n}\n\n/**\n * Show OpenAI section and hide main content\n */\nexport function showOpenAISection() {\n  const openaiSection = document.querySelector('.openai-section');\n  const mainContent = document.querySelector('.card-container');\n  const formBox = document.querySelector('.poke-form_box');\n  const pokeFiltSort = document.querySelector('.poke-filt_sort');\n  const moreBtn = document.querySelector('.more_btn');\n  const favoritesSection = document.querySelector('.favorites-section');\n  const teamSection = document.querySelector('.team-section');\n\n  if (openaiSection) {\n    openaiSection.style.display = 'block';\n  }\n  if (mainContent) {\n    mainContent.style.display = 'none';\n  }\n  if (formBox) {\n    formBox.style.display = 'none';\n  }\n  if (pokeFiltSort) {\n    pokeFiltSort.style.display = 'none';\n  }\n  if (moreBtn) {\n    moreBtn.style.display = 'none';\n  }\n  if (favoritesSection) {\n    favoritesSection.style.display = 'none';\n  }\n  if (teamSection) {\n    teamSection.style.display = 'none';\n  }\n  setupOpenAIUI();\n}\n\n/**\n * Hide OpenAI section and show main content\n */\nexport function hideOpenAISection() {\n  const openaiSection = document.querySelector('.openai-section');\n  const mainContent = document.querySelector('.card-container');\n  const formBox = document.querySelector('.poke-form_box');\n  const pokeFiltSort = document.querySelector('.poke-filt_sort');\n  const moreBtn = document.querySelector('.more_btn');\n\n  if (openaiSection) {\n    openaiSection.style.display = 'none';\n  }\n  if (mainContent) {\n    mainContent.style.display = 'flex';\n  }\n  if (formBox) {\n    formBox.style.display = 'block';\n  }\n  if (pokeFiltSort) {\n    pokeFiltSort.style.display = 'flex';\n  }\n  if (moreBtn) {\n    moreBtn.style.display = 'block';\n  }\n}\n\nfunction handleAIQuery() {\n  const aiInput = document.getElementById('aiinput');\n  const aiResponse = document.querySelector('.openai-response');\n  const aiResponseTitle = document.querySelector('.openai-response-title');\n\n  if (aiInput) {\n    aiInput.addEventListener('keydown', async e => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        const userInput = aiInput.value.trim();\n        const prompt = `Return a list of PokÃ©mon that are best for the following task. The format should be, one line: pokemon: reason, second line: pokemon: reason, ... and so on. The task is: ${userInput}. Gather a team of capable PokÃ©mon for this task. And give extended reasons for each choice. Example: \"\nAlakazam: Alakazam has high intelligence and psychic abilities, allowing it to quickly analyze and strategize the most efficient way to clean a space. Its psychic powers also allow it to move objects with ease, making it helpful for heavy lifting during cleaning.\n\nBlissey: Blissey's nurturing nature and ability to heal others make it a great addition to a cleaning team. It can provide emotional support to other PokÃ©mon during the cleaning process and tend to any injuries that may occur.\n\nLucario: Lucario's fighting abilities make it very agile and proficient at cleaning hard to reach areas. Its steel typing also makes it durable and able to handle tough cleaning tasks.\"`;\n        console.log('Prompt:', prompt); // Log the prompt value\n\n        if (!userInput) return;\n        if (aiResponse) aiResponse.textContent = 'Thinking...';\n        if (aiResponseTitle) {\n          aiResponseTitle.textContent = `The best Pokemon for \"${userInput}\" is...`;\n        }\n\n        try {\n          const res = await fetch(\n            'https://poke-api-server.vercel.app/api/openai',\n            {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ prompt }),\n            }\n          );\n\n          if (!res.ok) {\n            const text = await res.text();\n            if (aiResponse) aiResponse.textContent = `Error: ${text}`;\n            return;\n          }\n\n          const data = await res.json();\n          console.log('OpenAI Server Response:', data);\n          if (aiResponse) {\n            // Parse the new format: each line is \"PokemonName: description\"\n\n            const pokemonEntries = parseAIResult(data.result);\n\n            const list = document.createElement('ul');\n            list.className = 'pokemon-list';\n\n            pokemonEntries.forEach(entry => {\n              const listItem = document.createElement('li');\n\n              const textDiv = document.createElement('div');\n              textDiv.innerHTML = `<strong>${entry.name}:</strong> ${entry.reason}`;\n              listItem.appendChild(textDiv);\n\n              API.fetchPokemon(entry.name.toLowerCase())\n                .then(pokemonData => {\n                  if (\n                    pokemonData &&\n                    pokemonData.sprites &&\n                    pokemonData.sprites.front_default\n                  ) {\n                    const imageDiv = document.createElement('div');\n                    imageDiv.classList.add('pokemon-image');\n                    const img = document.createElement('img');\n                    img.src = pokemonData.sprites.front_default;\n                    img.alt = entry.name;\n                    img.classList.add('pokemon-image-tag');\n                    imageDiv.appendChild(img);\n                    listItem.appendChild(imageDiv);\n                  } else {\n                    listItem.remove();\n                  }\n                })\n                .catch(error => {\n                  console.error(\n                    `Error fetching data for ${entry.name}:`,\n                    error\n                  );\n                  listItem.remove();\n                });\n              list.appendChild(listItem);\n            });\n\n            console.log('Pokemon entries:', pokemonEntries);\n\n            aiResponse.innerHTML = '';\n            aiResponse.appendChild(list);\n          }\n        } catch (err) {\n          if (aiResponse)\n            aiResponse.textContent = `Network error: ${err.message}`;\n        } finally {\n          aiInput.value = '';\n        }\n      }\n    });\n  }\n}\n\nexport function initOpenAI() {\n  const openaiLink = document.querySelector('.openai-link');\n  if (openaiLink) {\n    openaiLink.addEventListener('click', e => {\n      e.preventDefault();\n      showOpenAISection();\n    });\n  }\n  handleAIQuery();\n}\n\n/**\n * Parses the OpenAI response string into structured data.\n * @param {string} text - The raw text response from OpenAI.\n * @returns {Array<{name: string, reason: string}>} Array of pokemon objects.\n */\nexport function parseAIResult(text) {\n  if (!text) return [];\n\n  const lines = text.split('\\n').filter(line => line.trim().length > 0);\n  const pokemonEntries = [];\n\n  lines.forEach(line => {\n    const colonIndex = line.indexOf(':');\n    if (colonIndex > 0) {\n      const pokemonName = line.substring(0, colonIndex).trim();\n      const reason = line.substring(colonIndex + 1).trim();\n      pokemonEntries.push({ name: pokemonName, reason: reason });\n    }\n  });\n\n  return pokemonEntries;\n}\n"],"names":["e","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","value","default","pokemon","sprites","name","weight","height","abilities","types","abilityName","map","ab","ability","join","favorited","$cAXwu","isFavorited","front_default","t","type","JSON","stringify","replace","handleFavoriteClick","btn","target","pokemonId","parseInt","dataset","parse","removeFromFavorites","textContent","classList","remove","addToFavorites","add","updateFavoriteCount","document","querySelector","$92b704da29f36d38$var$addToFavorites","getFavorites","$92b704da29f36d38$var$getFavorites","hideFavoritesSection","$92b704da29f36d38$var$hideFavoritesSection","initFavorites","$92b704da29f36d38$var$initFavorites","$92b704da29f36d38$var$isFavorited","$92b704da29f36d38$var$removeFromFavorites","showFavoritesSection","$92b704da29f36d38$var$showFavoritesSection","$92b704da29f36d38$var$updateFavoriteCount","updateFavoritesUI","$92b704da29f36d38$var$updateFavoritesUI","$37ouH","$92b704da29f36d38$var$STORAGE_KEY","data","localStorage","getItem","$92b704da29f36d38$var$saveFavorites","favorites","setItem","some","pokemonData","push","filter","badge","length","style","display","query","sortMode","maxWeight","maxHeight","result","container","trim","toLowerCase","Number","getElementById","filterByName","filterByType","filterByWeight","filterByHeight","sortByNameAZ","sortByNameZA","sortByIdAsc","sortByIdDesc","headerHTML","innerHTML","$92b704da29f36d38$var$setupBackButton","cardsHTML","querySelectorAll","forEach","addEventListener","backBtn","preventDefault","favoritesSection","mainContent","formBox","openaiSection","teamSection","favoritesLink","pokemonArr","lowerQuery","isNumeric","test","startsWith","arr","sort","a","b","localeCompare","wanted","Array","isArray","p","includes","min","max","undefined","$55b58e231f028392$var$BASE_URL","fetchPokemon","nameID","fetch","then","res","ok","json","fetchAll","limit","offset","$7347181ddf74d6b0$var$_markup","$7347181ddf74d6b0$var$_interopRequireWildcard","$7347181ddf74d6b0$var$_apiService","__esModule","$b3100e4e7185cc4d$exports","hideOpenAISection","$b3100e4e7185cc4d$var$hideOpenAISection","initOpenAI","aiInput","aiResponse","aiResponseTitle","openaiLink","$b3100e4e7185cc4d$var$showOpenAISection","key","userInput","prompt","console","log","method","headers","body","text","pokemonEntries","$b3100e4e7185cc4d$var$parseAIResult","list","createElement","className","entry","listItem","textDiv","reason","appendChild","$b3100e4e7185cc4d$var$_apiService","imageDiv","img","src","alt","catch","error","message","parseAIResult","showOpenAISection","pokeFiltSort","moreBtn","$b3100e4e7185cc4d$var$setupOpenAIUI","openaiBox","insertAdjacentHTML","lines","split","line","colonIndex","indexOf","pokemonName","substring","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","getOwnPropertyDescriptor","$7347181ddf74d6b0$var$refs","cardContainer","searchForm","sortSelect","typeFilter","searchInput","weightRange","heightRange","weightVal","heightVal","$7347181ddf74d6b0$var$allPokemons","$7347181ddf74d6b0$var$offset","$7347181ddf74d6b0$var$totalCount","$7347181ddf74d6b0$var$refreshIfFavoritesPage","favSection","$7347181ddf74d6b0$var$fetchBatch","count","Promise","all","results","url","$7347181ddf74d6b0$var$renderPokemonList","pokemonArray","append","markup","$7347181ddf74d6b0$var$onSearch","$7347181ddf74d6b0$var$filterAndSort","selectedType","mode","$7347181ddf74d6b0$var$morePokemons","alert","newBatch","_favorites","require","refs","currentPokemon","pokemonCardTpl","buttonText","buttonClass","_filter_sort","favoritesFilterAndSort","STORAGE_KEY","saveFavorites","setupBackButton","BASE_URL","_default","_markup","_interopRequireWildcard","_apiService","_interopRequireDefault","_openai","allPokemons","totalCount","morePokemons","filterAndSort","refreshIfFavoritesPage","onSearch","loadAll","fetchBatch","API","renderPokemonList","setupOpenAIUI","handleAIQuery"],"version":3,"file":"pokeApi.bda7c7dc.js.map"}